"use strict";function _interopDefault(i){return i&&"object"==typeof i&&"default"in i?i.default:i}var videojs=_interopDefault(require("video.js")),version="0.0.3";const registerPlugin=videojs.registerPlugin||videojs.plugin,dom=videojs.dom||videojs;class BrightcoveTracker{constructor({player:i,session:e,destination:t,video:s,videoName:o,videoDuration:n,source:r,domain:a,account:c}){const d=this;this.player=i,this.session=e,this.destination=t,this.video=s,this.videoName=o,this.videoDuration=n,this.source=r,this.domain=a,this.account=c,this.sendTracking=this.sendTracking.bind(this),this.player.on("loadedmetadata",(function(i){d.sendTracking()}))}setVideoTracker({session:i=this.session,destination:e=this.destination,video:t=this.video,videoName:s=this.videoName,videoDuration:o=this.videoDuration,source:n=this.source,domain:r=this.domain,account:a=this.account}){this.session=i,this.destination=e,this.video=t,this.videoName=s,this.videoDuration=o,this.source=n,this.domain=r,this.account=a}sendTracking(){const i=`http://metrics.brightcove.com/tracker?event=video_view&session=${this.session}&destination=${this.destination}&video=${this.video}&video_name=${this.videoName}&video_duration=${this.videoDuration}&time=${Date.now()}&source=${this.source}&domain=${this.domain}&account=${this.account}`,e=dom.createEl("img",{className:"vcs-bctr"});e.src=i,this.player.el().appendChild(e)}}function brightcoveTracker(i){this.ready(()=>{this.bcTracker=new BrightcoveTracker({...i,player:this})})}registerPlugin("brightcoveTracker",brightcoveTracker),brightcoveTracker.version=version,module.exports=brightcoveTracker;