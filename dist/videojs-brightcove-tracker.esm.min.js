import i from"video.js";const t=i.registerPlugin||i.plugin,s=i.dom||i;let e,o;class a{constructor({player:i,session:t,destination:s,video:a,videoName:n,videoDuration:r,source:d,domain:h,account:c,startTimeMs:m}){const u=this;this.player=i,this.session=t,this.destination=s,this.video=a,this.videoName=n,this.videoDuration=r,this.source=d,this.domain=h,this.account=c,this.startTimeMs=m,this.sendTracking=this.sendTracking.bind(this),this.player.on("loadstart",(function(i){e=Date.now()})),this.player.on("loadedmetadata",(function(i){o=Date.now(),u.startTimeMs=o-e,u.videoDuration=u.player.duration(),u.sendTracking()}))}setVideoTracker({session:i=this.session,destination:t=this.destination,video:s=this.video,videoName:e=this.videoName,videoDuration:o=this.videoDuration,source:a=this.source,domain:n=this.domain,account:r=this.account,startTimeMs:d=this.startTimeMs}){this.session=i,this.destination=t,this.video=s,this.videoName=e,this.videoDuration=o,this.source=a,this.domain=n,this.account=r,this.startTimeMs=d}sendTracking(){const i=`https://metrics.brightcove.com/tracker?event=video_view&session=${this.session}&destination=${this.destination}&video=${this.video}&video_name=${this.videoName}&video_duration=${this.videoDuration}&time=${Date.now()}&source=${this.source}&domain=${this.domain}&account=${this.account}&start_time_ms=${this.startTimeMs}`,t=s.createEl("img",{className:"vcs-bctr"});t.src=i,this.player.el().appendChild(t)}}function n(i){this.ready(()=>{this.bcTracker=new a({...i,player:this})})}t("brightcoveTracker",n),n.version="0.0.4";export default n;